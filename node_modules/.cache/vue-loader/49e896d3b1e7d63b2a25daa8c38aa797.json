{"remainingRequest":"/Users/pzy/Downloads/vue-admin-template-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pzy/Downloads/vue-admin-template-master/src/views/charts/components/PieChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pzy/Downloads/vue-admin-template-master/src/views/charts/components/PieChart.vue","mtime":1606267560000},{"path":"/Users/pzy/Downloads/vue-admin-template-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pzy/Downloads/vue-admin-template-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pzy/Downloads/vue-admin-template-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pzy/Downloads/vue-admin-template-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBlY2hhcnRzIGZyb20gImVjaGFydHMiOwpyZXF1aXJlKCJlY2hhcnRzL3RoZW1lL21hY2Fyb25zIik7IC8vIGVjaGFydHMgdGhlbWUKaW1wb3J0IHJlc2l6ZSBmcm9tICIuL21peGlucy9yZXNpemUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW3Jlc2l6ZV0sCiAgcHJvcHM6IHsKICAgIGNsYXNzTmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJjaGFydCIsCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiMTAwJSIsCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIjI4dmgiLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFydDogbnVsbCwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLmluaXRDaGFydCgpOwogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKCF0aGlzLmNoYXJ0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHRoaXMuY2hhcnQuZGlzcG9zZSgpOwogICAgdGhpcy5jaGFydCA9IG51bGw7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0Q2hhcnQoKSB7CiAgICAgIHRoaXMuY2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kZWwsICJtYWNhcm9ucyIpOwogICAgICAgdGhpcy5jaGFydC5zaG93TG9hZGluZygpOwogICAgICB0aGlzLmF4aW9zLmdldCgiaHR0cDovLyIrYXhpb3NVUkwrIi9hcGkvZmluZEJ5RGF0ZSIpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgbGV0IGxpc3QgPSBbXTsKICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGF0YSkgewogICAgICAgICAgbGV0IGJvb2tfbmFtZSA9IGtleTsKICAgICAgICAgIGxldCBjb21tZW50X251bXMgPSBkYXRhW2tleV07CiAgICAgICAgICBsaXN0LnB1c2goeyBuYW1lOiBib29rX25hbWUsIHZhbHVlOiBjb21tZW50X251bXMgfSk7CiAgICAgICAgfQogICAgICAgICB0aGlzLmNoYXJ0LmhpZGVMb2FkaW5nKCk7CgogICAgICAgIHRoaXMuY2hhcnQuc2V0T3B0aW9uKHsKICAgICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgICAgdHJpZ2dlcjogIml0ZW0iLAogICAgICAgICAgICBmb3JtYXR0ZXI6ICJ7YX0gPGJyLz57Yn0gOiB7Y30gKHtkfSUpIiwKICAgICAgICAgIH0sCgogICAgICAgIC8vIHRpdGxlOiB7CiAgICAgICAgLy8gICB0ZXh0OiAi5ZCE5bm05Lu95oKj55eF5Lq65pWwIiwKICAgICAgICAvLyAgIC8vIHN1YnRleHQ6ICLnuq/lsZ7omZrmnoQiLAogICAgICAgIC8vICAgbGVmdDogJ2NlbnRlcicsCiAgICAgICAgLy8gICB0ZXh0U3R5bGU6CiAgICAgICAgLy8gICB7Zm9udFNpemU6NTB9CiAgICAgICAgLy8gfSwKICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgICAgdHlwZToic2Nyb2xsIiwKICAgICAgICAgICAgbGVmdDowLAogICAgICAgICAgICBkYXRhOiBsaXN0Lm5hbWUsCiAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICB0b29sYm94OiB7CiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgIGZlYXR1cmU6IHsKICAgICAgICAgICAgICBkYXRhVmlldzogeyBzaG93OiB0cnVlLCByZWFkT25seTogZmFsc2UgfSwKICAgICAgICAgICAgICBtYWdpY1R5cGU6IHsgc2hvdzogdHJ1ZSwgdHlwZTogWyJwaWUiXSB9LAogICAgICAgICAgICAgIHJlc3RvcmU6IHsgc2hvdzogdHJ1ZSB9LAogICAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7IHNob3c6IHRydWUgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIG5hbWU6ICLlkITlubTku73mgqPnl4XkurrmlbAiLAogICAgICAgICAgICAgIHR5cGU6ICJwaWUiLAogICAgICAgICAgICAgIHJvc2VUeXBlOiAicmFkaXVzIiwKICAgICAgICAgICAgICByYWRpdXM6IFszMCwgMTYwXSwKICAgICAgICAgICAgICBjZW50ZXI6IFsiNTAlIiwgIjUwJSJdLAogICAgICAgICAgICAgIGRhdGE6IGxpc3QsCiAgICAgICAgICAgICAgYW5pbWF0aW9uRWFzaW5nOiAiY3ViaWNJbk91dCIsCiAgICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDM2MDAsCiAgICAgICAgICAgICAgdG9wOicxMDAnLAogICAgICAgICAgICB9LAogICAgICAgICAgXSwKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["PieChart.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PieChart.vue","sourceRoot":"src/views/charts/components","sourcesContent":["<template>\n  <div :class=\"className\" :style=\"{ height: height, width: width }\" />\n</template>\n\n<script>\nimport echarts from \"echarts\";\nrequire(\"echarts/theme/macarons\"); // echarts theme\nimport resize from \"./mixins/resize\";\n\nexport default {\n  mixins: [resize],\n  props: {\n    className: {\n      type: String,\n      default: \"chart\",\n    },\n    width: {\n      type: String,\n      default: \"100%\",\n    },\n    height: {\n      type: String,\n      default: \"28vh\",\n    },\n  },\n  data() {\n    return {\n      chart: null,\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.initChart();\n    });\n  },\n  beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n    this.chart.dispose();\n    this.chart = null;\n  },\n  methods: {\n    initChart() {\n      this.chart = echarts.init(this.$el, \"macarons\");\n       this.chart.showLoading();\n      this.axios.get(\"http://\"+axiosURL+\"/api/findByDate\").then((res) => {\n        let data = res.data;\n        let list = [];\n        for (let key in data) {\n          let book_name = key;\n          let comment_nums = data[key];\n          list.push({ name: book_name, value: comment_nums });\n        }\n         this.chart.hideLoading();\n\n        this.chart.setOption({\n          tooltip: {\n            trigger: \"item\",\n            formatter: \"{a} <br/>{b} : {c} ({d}%)\",\n          },\n\n        // title: {\n        //   text: \"各年份患病人数\",\n        //   // subtext: \"纯属虚构\",\n        //   left: 'center',\n        //   textStyle:\n        //   {fontSize:50}\n        // },\n          legend: {\n            show: false,\n            type:\"scroll\",\n            left:0,\n            data: list.name,\n          },\n                     toolbox: {\n            show: true,\n            feature: {\n              dataView: { show: true, readOnly: false },\n              magicType: { show: true, type: [\"pie\"] },\n              restore: { show: true },\n              saveAsImage: { show: true },\n            },\n          },\n          series: [\n            {\n              name: \"各年份患病人数\",\n              type: \"pie\",\n              roseType: \"radius\",\n              radius: [30, 160],\n              center: [\"50%\", \"50%\"],\n              data: list,\n              animationEasing: \"cubicInOut\",\n              animationDuration: 3600,\n              top:'100',\n            },\n          ],\n        });\n      });\n    },\n  },\n};\n</script>\n"]}]}